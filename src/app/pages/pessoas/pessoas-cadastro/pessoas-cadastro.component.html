<div class="container">
  <form #f="ngForm" autocomplete="off" (ngSubmit)="salvar(f)">
    <div class="p-fluid p-grid">
      <div class="p-col-12">
        <h1>Cadastro de Pessoas</h1>
      </div>
      <div class="p-col-6 p-field">
        <label style="display: block">Nome:</label>
        <input pInputText type="text" name="nome" [(ngModel)]="pessoa.nome">
      </div>
      <div class="p-col-4 p-field">
        <label style="display: block">Logradouro:</label>
        <input pInputText type="text" name="logradouro" [(ngModel)]="pessoa.logradouro">
      </div>
      <div class="p-col-2 p-field">
        <label style="display: block">Número:</label>
        <input pInputText type="number" name="numero" [(ngModel)]="pessoa.numero">
      </div>
      <div class="p-col-3 p-field">
        <label style="display: block">Complemento:</label>
        <input pInputText type="text" name="complemento" [(ngModel)]="pessoa.complemento">
      </div>
      <div class="p-col-3 p-field">
        <label style="display: block">Bairro:</label>
        <input pInputText type="text" name="bairro" [(ngModel)]="pessoa.bairro">
      </div>
      <div class="p-col-2 p-field">
        <label style="display: block">CEP:</label>
        <input pInputText type="text" name="cep" [(ngModel)]="pessoa.cep">
      </div>
      <div class="p-col-3 p-field">
        <label style="display: block">Cidade:</label>
        <input pInputText type="text" name="cidade" [(ngModel)]="pessoa.cidade">
      </div>
      <div class="p-col-1 p-field">
        <label style="display: block">Estado:</label>
        <input pInputText type="text" name="estado" [(ngModel)]="pessoa.estado">
      </div>
      <div class="p-col-12 p-field">
        <p-panel header="Contatos">
          <div class="p-fluid p-grid">
            <div class="p-col-3">
              <button pButton label="Novo Contato" icon="pi pi-plus" type="button" class="ui-button-secondary"
                (click)="prepararNovoContato()"></button>
            </div>
            <p-table [responsive]="true" [value]="pessoa.contatos">
              <ng-template pTemplate="header">
                <tr>
                  <th class="p-col-1 p-field">#</th>
                  <th class="p-col-5 p-field">Nome</th>
                  <th class="p-col-4 p-field">Email</th>
                  <th class="p-col-3 p-field">Telefone</th>
                  <th class="col-acoes-header">Ações</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-contato>
                <td class="col-codigo">{{contato.codigo}}</td>
                <td>{{contato.nome}}</td>
                <td>{{contato.email}}</td>
                <td>{{contato.telefone}</td>
                <td class="col-acoes">
                  <button pButton icon="pi pi-pencil" pTooltip="Editar" tooltipPosition="top"></button>

                  <button pButton icon="pi pi-trash" pTooltip="Excluir" tooltipPosition="top"></button>
                </td>
              </ng-template>
              <ng-template pTemplate="emptymessage">
                <tr>
                  <td colspan="12">
                    Nenhum Contato Cadastrado
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </p-panel>
      </div>
      <div class="p-col-3 p-field">
        <button pButton type="submit" label="Salvar Pessoa"></button>
      </div>
      <div class="p-col-3 p-field">
      <a routerLink="/pessoas">
        <button pButton label="Voltar para Pesquisa" class="ui-button-success"></button>
      </a>
    </div>
    </div>
  </form>
</div>

<p-dialog header="Novo Produto" [(visible)]="exibirFormularioContato" modal="true" [closable]="false"
  [style]="{width: '850px', maxWidth: '850px'}">
  <form #f1="ngForm" autocomplete="off">
    <div class="p-fluid p-grid">
    <div class="p-col-10 p-field">
      <label>Nome</label>
      <input pInputText type="text" name="nome">
    </div>
    <div class="p-col-6 p-field">
      <label>Email</label>
      <input pInputText type="text" name="email">
    </div>
    <div class="p-col-6 p-field">
      <label>Telefone</label>
      <input pInputText type="text" name="telefone">
    </div>

    <div class="p-col-3 p-field">
      <button pButton label="Confirmar" type="submit"></button>
    </div>
      <div class="p-col-3 p-field">
      <button pButton label="Fechar" type="button" class="ui-button-danger" (click)="closeForm()"></button>
    </div>
  </div>
  </form>
</p-dialog>
